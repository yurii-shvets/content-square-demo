import { ErrorAnalysisModule } from './nativeModules';

import * as featureFlags from './feature-flag-config.json';

/**
 * ErrorAnalysis object provides a set of methods for error analysis.
 */
export const ErrorAnalysis = {
  /**
   * Sets the URL masking patterns for HTTP error analysis.
   *
   * @param {array} patterns - An array of URL patterns to be masked for HTTP error analysis.
   *
   */
  setURLMaskingPatterns(patterns) {
    if (featureFlags.httpErrorAnalysis) {
      ErrorAnalysisModule.setURLMaskingPatterns(patterns);
    } else {
      console.error(
        "The 'httpErrorAnalysis' feature is disabled, URL masking patterns cannot be set."
      );
    }
  },
};
